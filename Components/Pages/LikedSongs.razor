@page "/like"
@using System.Collections.Specialized
@implements IDisposable

<TabbedPageView Title="Liked">
    @foreach (var video in UserSetting.Instance.LikedSongs.Reverse())
    {
        <MusicTrack Song="new AudioItem(video)"></MusicTrack>
    }
</TabbedPageView>

@code {
    protected override void OnInitialized()
    {
        base.OnInitialized();
        UserSetting.Instance.LikedSongs.CollectionChanged += OnListChanged;
    }
    void OnListChanged(object? sender,NotifyCollectionChangedEventArgs e)
    {
        StateHasChanged();
    }
    public void Dispose()
    {
        UserSetting.Instance.LikedSongs.CollectionChanged -= OnListChanged;
    }
}
